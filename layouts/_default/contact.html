
              
              
              {{ define "main" }}
              <section class="resume-section p-3 p-lg-5 d-flex d-column" id="{{ replace .Title " " "-" }}">
                <div class="container-fluid my-auto">
                  <h3 class="mb-4 text-center"><span class="text-primary">{{ .Param "firstName" }} {{ .Param "lastName" }}</span></h3>

                  <div class="row justify-content-center">
                    <div class="col-12 col-lg-5 mb-4">
                      <div class="card h-100">
                        <div class="card-body text-center">
                          {{ partial "contact-qr" . }}
                          <div class="mt-3">
                            {{ .Content }}
                          </div>
                        </div>
                      </div>
                    </div>

                    <div class="col-12 col-lg-7">
                      <div class="card h-100">
                        <div class="card-body">
                          <form id="contact-form" data-api-endpoint="{{ .Site.Params.contactApiEndpoint | default "https://api.liventnick.xyz/contact" }}">
                            <div class="form-group">
                              <label for="name">Name</label>
                              <input class="form-control" type="text" name="name" id="name" placeholder="Name" required>
                            </div>
                            <div class="form-group">
                              <label for="email">Email</label>
                              <input class="form-control" type="email" id="email" name="email" placeholder="Email" required>
                            </div>
                            <div class="form-group">
                              <label for="message">Message</label>
                              <textarea class="form-control" name="message" id="message" rows="6" placeholder="Message" required></textarea>
                            </div>
                            <div class="form-group">
                              <div id="contact-turnstile-wrap" class="contact-turnstile-wrap">
                                <div id="contact-turnstile" class="cf-turnstile" data-sitekey="{{ .Site.Params.contactFormTurnstileSiteKey }}" data-size="normal"></div>
                              </div>
                            </div>
                            <button class="btn btn-primary" type="submit">Send</button>
                            <p id="form-status" class="mt-3 mb-0"></p>
                          </form>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </section>

              <script>
                (function () {
                  var turnstileWrap = document.getElementById('contact-turnstile-wrap');
                  var turnstileElement = document.getElementById('contact-turnstile');
                  var messageField = document.getElementById('message');
                  if (!turnstileWrap || !turnstileElement || !messageField) return;

                  var applyMobileScale = function() {
                    var isMobile = window.matchMedia('(max-width: 768px)').matches;
                    
                    if (!isMobile) {
                      turnstileWrap.style.width = '';
                      turnstileWrap.style.height = '';
                      turnstileElement.style.transform = '';
                      turnstileElement.style.transformOrigin = '';
                      turnstileElement.setAttribute('data-size', 'normal');
                      return;
                    }

                    // Set widget to normal size first
                    turnstileElement.setAttribute('data-size', 'normal');
                    
                    // Wait a moment for widget to render, then scale it
                    setTimeout(function() {
                      var messageWidth = messageField.getBoundingClientRect().width;
                      var widgetNormalWidth = 300; // Normal Turnstile width
                      var widgetNormalHeight = 65; // Normal Turnstile height
                      var scale = Math.min(1, messageWidth / widgetNormalWidth);
                      
                      turnstileWrap.style.width = messageWidth + 'px';
                      turnstileWrap.style.height = (widgetNormalHeight * scale) + 'px';
                      turnstileElement.style.transform = 'scale(' + scale + ')';
                      turnstileElement.style.transformOrigin = 'left top';
                    }, 100);
                  };

                  applyMobileScale();
                  window.addEventListener('resize', applyMobileScale);
                })();
              </script>
              <script src="https://challenges.cloudflare.com/turnstile/v0/api.js"></script>
              <script src="{{ "js/contact.js" | relURL }}"></script>
              {{ end }}